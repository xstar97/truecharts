image:
  pullPolicy: IfNotPresent
  repository: yourls
  tag: 1.10.2-fpm-alpine@sha256:46eda3b37e42b793ae51086adde2f3b3b66693fe60b6a6e59e044f1841f0b516
securityContext:
  container:
    readOnlyRootFilesystem: false
    runAsGroup: 0
    runAsUser: 0
service:
  main:
    ports:
      main:
        port: 8080
        protocol: tcp
        targetPort: 8080
workload:
  main:
    podSpec:
      containers:
        main:
          env:
            YOURLS_DB_HOST:
              secretKeyRef:
                expandObjectName: false
                name: '{{ printf "%s-%s" .Release.Name "mariadbcreds" }}'
                key: plainhost
            YOURLS_DB_NAME: "{{ .Values.mariadb.mariadbDatabase }}"
            YOURLS_DB_USER: "{{ .Values.mariadb.mariadbUsername }}"
            YOURLS_DB_PASS:
              secretKeyRef:
                expandObjectName: false
                name: '{{ printf "%s-%s" .Release.Name "mariadbcreds" }}'
                key: mariadb-password
            # YOURLS_HOURS_OFFSET: ""
            # YOURLS_PASS: ""
            # protect admin form
            YOURLS_PRIVATE: false
            YOURLS_SITE: "{{ .Values.chartContext.appUrl }}"
            # YOURLS_USER: ""

mariadb:
  enabled: true
  mariadbUsername: yourls
  mariadbDatabase: yourls